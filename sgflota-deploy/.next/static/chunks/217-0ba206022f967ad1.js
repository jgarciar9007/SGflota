"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{4226:function(e,t,n){n.d(t,{z:function(){return d}});var a=n(7437),i=n(2265),o=n(5293),r=n(4508);let d=i.forwardRef((e,t)=>{let{className:n,variant:i="default",size:d="default",asChild:l=!1,...s}=e,c=l?o.g7:"button";return(0,a.jsx)(c,{className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground"}[i],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[d],n),ref:t,...s})});d.displayName="Button"},9178:function(e,t,n){n.d(t,{Ol:function(){return d},SZ:function(){return s},Zb:function(){return r},aY:function(){return c},eW:function(){return p},ll:function(){return l}});var a=n(7437),i=n(2265),o=n(4508);let r=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border border-border bg-card text-card-foreground shadow-sm glass",n),...i})});r.displayName="Card";let d=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",n),...i})});d.displayName="CardHeader";let l=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",n),...i})});l.displayName="CardTitle";let s=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-gray-400",n),...i})});s.displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",n),...i})});c.displayName="CardContent";let p=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",n),...i})});p.displayName="CardFooter"},2376:function(e,t,n){n.d(t,{DataProvider:function(){return p},e:function(){return f}});var a=n(7437),i=n(2265);let o=(0,i.createContext)(void 0),r="sgflota_data",d=[{id:"1",name:"Tesla Model 3",type:"El\xe9ctrico",range:"500 km",price:120,image:"https://images.unsplash.com/photo-1536700503339-1e4b06520771?q=80&w=2693&auto=format&fit=crop",status:"Disponible",plate:"ABC-123",year:2023},{id:"2",name:"BMW M4 Competition",type:"Gasolina",range:"600 km",price:250,image:"https://images.unsplash.com/photo-1617788138017-80ad40651399?q=80&w=2670&auto=format&fit=crop",status:"Disponible",plate:"XYZ-789",year:2024},{id:"3",name:"Mercedes AMG GT",type:"Gasolina",range:"450 km",price:300,image:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?q=80&w=2670&auto=format&fit=crop",status:"Disponible",plate:"DEF-456",year:2023}],l=[{id:"1",name:"Juan P\xe9rez",email:"juan@example.com",phone:"+34 600 123 456",address:"Calle Mayor 1, Madrid",dni:"12345678A"}],s={name:"SGFlota - Sistema de Gesti\xf3n de Flota",logo:"",address:"Calle Principal 123, Madrid, Espa\xf1a",phone:"+34 900 123 456",email:"info@sgflota.com",taxId:"B12345678",website:"www.sgflota.com"},c=[{id:"1",name:"Admin User",email:"admin@sgflota.com",role:"Admin",status:"Active"}];function p(e){let{children:t}=e,[n,p]=(0,i.useState)([]),[f,u]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[h,x]=(0,i.useState)([]),[b,y]=(0,i.useState)([]),[v,w]=(0,i.useState)(s),[S,k]=(0,i.useState)([]),[D,M]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=localStorage.getItem(r);if(e){let t=JSON.parse(e);p(t.vehicles||d),u(t.clients||l),g(t.rentals||[]),x(t.invoices||[]),y(t.maintenances||[]),w(t.companySettings||s),k(t.users||c),M(t.payments||[])}else p(d),u(l),w(s),k(c)},[]),(0,i.useEffect)(()=>{(n.length>0||f.length>0)&&localStorage.setItem(r,JSON.stringify({vehicles:n,clients:f,rentals:m,invoices:h,maintenances:b,companySettings:v,users:S,payments:D}))},[n,f,m,h,b,v,S,D]);let C=(e,t)=>{p(n=>n.map(n=>n.id===e?{...n,...t}:n))},N=e=>{let t={...e,id:Date.now().toString(),payments:[],paidAmount:0};x(e=>[...e,t])},I=(e,t)=>{x(n=>n.map(n=>n.id===e?{...n,...t}:n))};return(0,a.jsx)(o.Provider,{value:{vehicles:n,clients:f,rentals:m,invoices:h,maintenances:b,companySettings:v,addVehicle:e=>{let t={...e,id:Date.now().toString()};p(e=>[...e,t])},updateVehicle:C,deleteVehicle:e=>{p(t=>t.filter(t=>t.id!==e))},addClient:e=>{let t={...e,id:Date.now().toString()};u(e=>[...e,t])},updateClient:(e,t)=>{u(n=>n.map(n=>n.id===e?{...n,...t}:n))},deleteClient:e=>{u(t=>t.filter(t=>t.id!==e))},addRental:e=>{let t={...e,id:Date.now().toString()};g(e=>[...e,t]),C(e.vehicleId,{status:"Rentado"})},endRental:(e,t)=>{let n=m.find(t=>t.id===e);if(n){let a=Math.ceil((new Date(t).getTime()-new Date(n.startDate).getTime())/864e5)*n.dailyRate;g(n=>n.map(n=>n.id===e?{...n,endDate:t,status:"Finalizado",totalAmount:a}:n)),C(n.vehicleId,{status:"Disponible"}),N({rentalId:e,clientId:n.clientId,amount:a,date:t,status:"Pendiente"})}},addInvoice:N,updateInvoice:I,addPayment:(e,t,n)=>{let a=Date.now().toString(),i=new Date().toISOString().split("T")[0],o=[];return t.forEach(t=>{let r=h.find(e=>e.id===t.invoiceId);if(!r)return;let d={id:Math.random().toString(36).substr(2,9),receiptId:a,clientId:e,invoiceId:t.invoiceId,amount:t.amount,date:i,method:n};o.push(d);let l=r.payments||[],s=(r.paidAmount||0)+t.amount,c=s>=r.amount?"Pagado":s>0?"Parcial":"Pendiente";I(t.invoiceId,{payments:[...l,d],paidAmount:s,status:c})}),M(e=>[...e,...o]),a},addMaintenance:e=>{let t={...e,id:Date.now().toString()};y(e=>[...e,t]),C(e.vehicleId,{status:"Mantenimiento"})},updateMaintenance:(e,t)=>{if(y(n=>n.map(n=>n.id===e?{...n,...t}:n)),"Completado"===t.status){let t=b.find(t=>t.id===e);t&&C(t.vehicleId,{status:"Disponible"})}},updateCompanySettings:e=>{w(t=>({...t,...e}))},users:S,payments:D,addUser:e=>{let t={...e,id:Date.now().toString()};k(e=>[...e,t])},updateUser:(e,t)=>{k(n=>n.map(n=>n.id===e?{...n,...t}:n))},deleteUser:e=>{k(t=>t.filter(t=>t.id!==e))}},children:t})}function f(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useData must be used within a DataProvider");return e}},2042:function(e,t,n){n.d(t,{k:function(){return a}});let a=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return'\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="UTF-8">\n    <title>'.concat(e,"</title>\n    <style>\n        @page { size: A4; margin: 0; }\n        body { \n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; \n            margin: 0; \n            padding: 40px; \n            background: white; \n            color: #1f2937; \n            -webkit-print-color-adjust: exact; \n        }\n        .header { \n            display: flex; \n            justify-content: space-between; \n            align-items: flex-start; \n            margin-bottom: 40px; \n            border-bottom: 2px solid #e5e7eb; \n            padding-bottom: 20px; \n        }\n        .header-left { \n            width: 30%; \n            display: flex;\n            align-items: center;\n        }\n        .header-center { \n            width: 40%; \n            text-align: center; \n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        .header-right { \n            width: 30%; \n            text-align: right; \n        }\n        .company-logo { \n            max-height: 80px; \n            max-width: 100%; \n            object-fit: contain; \n        }\n        .document-title { \n            font-size: 24px; \n            font-weight: 800; \n            color: #1f2937; \n            text-transform: uppercase; \n            letter-spacing: 1px; \n        }\n        .company-info { \n            font-size: 12px; \n            color: #6b7280; \n            line-height: 1.4; \n        }\n        .company-name { \n            font-size: 16px; \n            font-weight: 700; \n            color: #1f2937; \n            margin-bottom: 4px; \n        }\n        .footer { \n            position: fixed; \n            bottom: 40px; \n            left: 40px; \n            right: 40px; \n            text-align: center; \n            font-size: 10px; \n            color: #9ca3af; \n            border-top: 1px solid #e5e7eb; \n            padding-top: 10px; \n        }\n        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n        th { text-align: left; padding: 10px; background: #f3f4f6; color: #374151; font-size: 12px; font-weight: 700; text-transform: uppercase; border-bottom: 2px solid #e5e7eb; }\n        td { padding: 10px; border-bottom: 1px solid #e5e7eb; font-size: 12px; }\n        .text-right { text-align: right; }\n        .text-center { text-align: center; }\n        .font-bold { font-weight: bold; }\n        .section-title { font-size: 14px; font-weight: 700; color: #374151; margin-top: 20px; margin-bottom: 10px; text-transform: uppercase; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; }\n        ").concat(a,'\n    </style>\n</head>\n<body>\n    <div class="header">\n        <div class="header-left">\n            ').concat(t.logo?'<img src="'.concat(t.logo,'" alt="Logo" class="company-logo">'):"",'\n        </div>\n        <div class="header-center">\n            <div class="document-title">').concat(e,'</div>\n        </div>\n        <div class="header-right">\n            <div class="company-name">').concat(t.name,'</div>\n            <div class="company-info">\n                ').concat(t.address,"<br>\n                ").concat(t.phone,"<br>\n                ").concat(t.email,"<br>\n                NIF: ").concat(t.taxId,"\n            </div>\n        </div>\n    </div>\n\n    ").concat(n,'\n\n    <div class="footer">\n        Generado el ').concat(new Date().toLocaleString()," â€¢ ").concat(t.website||"","\n    </div>\n\n    <script>window.onload = function() { window.print(); }</script>\n</body>\n</html>\n    ")}},4508:function(e,t,n){n.d(t,{cn:function(){return o},x:function(){return r}});var a=n(1994),i=n(3335);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,a.W)(t))}function r(e){return Math.round(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" FCFA"}},1047:function(e,t,n){n.d(t,{Z:function(){return a}});let a=(0,n(9205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},5252:function(e,t,n){n.d(t,{Z:function(){return a}});let a=(0,n(9205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8736:function(e,t,n){n.d(t,{Z:function(){return a}});let a=(0,n(9205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}}]);