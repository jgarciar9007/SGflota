(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{5494:function(e,t,s){Promise.resolve().then(s.bind(s,6896))},6896:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a=s(7437),n=s(2376),r=s(9178),i=s(4226),l=s(2660),c=s(8736),d=s(7662),o=s(1047),x=s(5673),h=s(7928),m=s(476),g=s(5252);let p=(0,s(9205).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var u=s(9525),f=s(7648),b=s(3145),y=s(9376),v=s(4508),j=s(2042);function N(){let e=(0,y.useParams)(),{vehicles:t,rentals:s,maintenances:N,companySettings:w}=(0,n.e)(),Z="string"==typeof e.id?e.id:Array.isArray(e.id)?e.id[0]:"",D=t.find(e=>e.id===Z),k=s.filter(e=>e.vehicleId===Z),z=N.filter(e=>e.vehicleId===Z);if(!D)return(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Veh\xedculo no encontrado"}),(0,a.jsx)(f.default,{href:"/fleet",children:(0,a.jsxs)(i.z,{variant:"outline",className:"text-white border-gray-600",children:[(0,a.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," Volver a la Flota"]})})]});let M=k.reduce((e,t)=>e+(t.totalAmount||0),0),A=z.reduce((e,t)=>e+t.cost,0),P=k.find(e=>"Activo"===e.status);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(f.default,{href:"/fleet",children:(0,a.jsx)(i.z,{variant:"ghost",className:"text-gray-400 hover:text-white",children:(0,a.jsx)(l.Z,{className:"h-6 w-6"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-white",children:D.name}),(0,a.jsx)("p",{className:"text-gray-300",children:"Detalles y estad\xedsticas del veh\xedculo"})]}),(0,a.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,a.jsxs)(i.z,{onClick:()=>{let e='\n            <div class="section-title">Ficha T\xe9cnica del Veh\xedculo</div>\n            \n            <div style="display: flex; gap: 40px; margin-bottom: 30px;">\n                <div style="flex: 1;">\n                    <img src="'.concat(D.image,'" style="width: 100%; border-radius: 8px; object-fit: cover; height: 300px;" />\n                </div>\n                <div style="flex: 1;">\n                    <div style="font-size: 28px; font-weight: 800; color: #1f2937; margin-bottom: 10px;">').concat(D.name,'</div>\n                    <div style="font-size: 14px; color: #6b7280; margin-bottom: 20px;">').concat(D.year," â€¢ ").concat(D.type,'</div>\n                    \n                    <div style="background: #f3f4f6; padding: 20px; border-radius: 8px;">\n                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">\n                            <div>\n                                <div style="font-size: 11px; text-transform: uppercase; color: #6b7280; font-weight: bold;">Placa</div>\n                                <div style="font-size: 16px; font-weight: 600;">').concat(D.plate,'</div>\n                            </div>\n                            <div>\n                                <div style="font-size: 11px; text-transform: uppercase; color: #6b7280; font-weight: bold;">Rango</div>\n                                <div style="font-size: 16px; font-weight: 600;">').concat(D.range,'</div>\n                            </div>\n                            <div>\n                                <div style="font-size: 11px; text-transform: uppercase; color: #6b7280; font-weight: bold;">Precio Diario</div>\n                                <div style="font-size: 16px; font-weight: 600; color: #059669;">').concat((0,v.x)(D.price),'</div>\n                            </div>\n                            <div>\n                                <div style="font-size: 11px; text-transform: uppercase; color: #6b7280; font-weight: bold;">Estado</div>\n                                <div style="font-size: 16px; font-weight: 600;">').concat(D.status,'</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="section-title">Historial de Actividad</div>\n            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">\n                <div>\n                    <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; color: #374151;">\xdaltimas Rentas</div>\n                    ').concat(k.length>0?'\n                        <table>\n                            <thead><tr><th>Fecha</th><th>Estado</th><th class="text-right">Total</th></tr></thead>\n                            <tbody>\n                                '.concat(k.slice(0,5).map(e=>"\n                                    <tr>\n                                        <td>".concat(new Date(e.startDate).toLocaleDateString(),"</td>\n                                        <td>").concat(e.status,'</td>\n                                        <td class="text-right">').concat((0,v.x)(e.totalAmount||0),"</td>\n                                    </tr>\n                                ")).join(""),"\n                            </tbody>\n                        </table>\n                    "):'<p style="font-size: 12px; color: #6b7280;">Sin historial de rentas.</p>','\n                </div>\n                <div>\n                    <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px; color: #374151;">\xdaltimos Mantenimientos</div>\n                    ').concat(z.length>0?'\n                        <table>\n                            <thead><tr><th>Fecha</th><th>Descripci\xf3n</th><th class="text-right">Costo</th></tr></thead>\n                            <tbody>\n                                '.concat(z.slice(0,5).map(e=>"\n                                    <tr>\n                                        <td>".concat(new Date(e.date).toLocaleDateString(),"</td>\n                                        <td>").concat(e.description,'</td>\n                                        <td class="text-right">').concat((0,v.x)(e.cost),"</td>\n                                    </tr>\n                                ")).join(""),"\n                            </tbody>\n                        </table>\n                    "):'<p style="font-size: 12px; color: #6b7280;">Sin historial de mantenimiento.</p>',"\n                </div>\n            </div>\n        "),t=(0,j.k)("Ficha: ".concat(D.name),w,e),s=window.open("","_blank");s&&(s.document.write(t),s.document.close())},variant:"outline",className:"text-white border-gray-600 hover:bg-gray-800",children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Imprimir Ficha"]}),(0,a.jsx)("span",{className:"px-4 py-2 rounded-full text-sm font-bold border-2 flex items-center ".concat("Disponible"===D.status?"bg-green-600 text-white border-green-500":"Rentado"===D.status?"bg-blue-600 text-white border-blue-500":"bg-yellow-600 text-white border-yellow-500"),children:D.status})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,a.jsxs)(r.Zb,{className:"border-gray-700 bg-gray-800/50 backdrop-blur md:col-span-1 overflow-hidden",children:[(0,a.jsxs)("div",{className:"aspect-video w-full relative",children:[(0,a.jsx)(b.default,{src:D.image,alt:D.name,fill:!0,className:"object-cover",unoptimized:!0}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-60"}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4",children:(0,a.jsxs)("p",{className:"text-2xl font-bold text-white",children:[(0,v.x)(D.price),"/d\xeda"]})})]}),(0,a.jsx)(r.aY,{className:"space-y-4 p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-blue-400"}),(0,a.jsx)("span",{children:D.plate})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-purple-400"}),(0,a.jsx)("span",{children:D.year})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:["El\xe9ctrico"===D.type?(0,a.jsx)(x.Z,{className:"h-4 w-4 text-green-400"}):(0,a.jsx)(h.Z,{className:"h-4 w-4 text-orange-400"}),(0,a.jsx)("span",{children:D.type})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 text-red-400"}),(0,a.jsx)("span",{children:D.range})]})]})})]}),(0,a.jsxs)("div",{className:"md:col-span-2 grid gap-6 md:grid-cols-3",children:[(0,a.jsx)(r.Zb,{className:"border-gray-700 bg-gradient-to-br from-green-900/20 to-gray-900",children:(0,a.jsxs)(r.aY,{className:"p-6 flex flex-col items-center justify-center text-center h-full",children:[(0,a.jsx)(g.Z,{className:"h-8 w-8 text-green-400 mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:(0,v.x)(M)}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Ingresos Totales"})]})}),(0,a.jsx)(r.Zb,{className:"border-gray-700 bg-gradient-to-br from-blue-900/20 to-gray-900",children:(0,a.jsxs)(r.aY,{className:"p-6 flex flex-col items-center justify-center text-center h-full",children:[(0,a.jsx)(p,{className:"h-8 w-8 text-blue-400 mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:k.length}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Rentas Totales"})]})}),(0,a.jsx)(r.Zb,{className:"border-gray-700 bg-gradient-to-br from-red-900/20 to-gray-900",children:(0,a.jsxs)(r.aY,{className:"p-6 flex flex-col items-center justify-center text-center h-full",children:[(0,a.jsx)(u.Z,{className:"h-8 w-8 text-red-400 mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:(0,v.x)(A)}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Costo Mantenimiento"})]})}),P&&(0,a.jsxs)(r.Zb,{className:"border-blue-500 bg-blue-900/10 md:col-span-3",children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium text-blue-400 flex items-center gap-2",children:[(0,a.jsx)(p,{className:"h-4 w-4"})," Renta Activa"]})}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-white font-bold",children:["Desde: ",new Date(P.startDate).toLocaleDateString()]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Cliente ID: ",P.clientId]})]}),(0,a.jsx)(f.default,{href:"/rentals",children:(0,a.jsx)(i.z,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-900/50",children:"Ver en Rentas"})})]})})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5 text-blue-400"}),"Historial de Rentas"]}),(0,a.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:k.length>0?k.sort((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime()).map(e=>(0,a.jsx)(r.Zb,{className:"border-gray-700 bg-gray-800/30",children:(0,a.jsx)(r.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-white font-medium",children:[new Date(e.startDate).toLocaleDateString()," - ",e.endDate?new Date(e.endDate).toLocaleDateString():"En curso"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["Cliente: ",e.clientId]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-white",children:(0,v.x)(e.totalAmount||0)}),(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full border ".concat("Activo"===e.status?"text-green-400 border-green-800 bg-green-900/20":"text-gray-400 border-gray-700"),children:e.status})]})]})})},e.id)):(0,a.jsx)("p",{className:"text-gray-500 text-center py-4 bg-gray-800/20 rounded-lg border border-gray-800",children:"No hay rentas registradas"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-red-400"}),"Historial de Mantenimiento"]}),(0,a.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:z.length>0?z.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>(0,a.jsx)(r.Zb,{className:"border-gray-700 bg-gray-800/30",children:(0,a.jsx)(r.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.date).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-bold text-red-400",children:["-",(0,v.x)(e.cost)]}),(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full border ".concat("Completado"===e.status?"text-green-400 border-green-800 bg-green-900/20":"En Proceso"===e.status?"text-blue-400 border-blue-800 bg-blue-900/20":"text-yellow-400 border-yellow-800 bg-yellow-900/20"),children:e.status})]})]})})},e.id)):(0,a.jsx)("p",{className:"text-gray-500 text-center py-4 bg-gray-800/20 rounded-lg border border-gray-800",children:"No hay mantenimientos registrados"})})]})]})]})}},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5673:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("battery",[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]])},7662:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},7928:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("fuel",[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]])},476:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]])},9525:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]])},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[590,648,458,217,971,117,744],function(){return e(e.s=5494)}),_N_E=e.O()}]);