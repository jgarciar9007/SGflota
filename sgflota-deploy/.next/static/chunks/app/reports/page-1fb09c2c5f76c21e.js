(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{8774:function(t,e,n){Promise.resolve().then(n.bind(n,9190))},9190:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var o=n(7437),a=n(2376),i=n(9178),s=n(4226),r=n(7662),l=n(8736),d=n(1047),c=n(9525),p=n(5805),x=n(5252),f=n(4508),h=n(2042);function u(){let{vehicles:t,clients:e,rentals:n,maintenances:u,invoices:g,companySettings:b}=(0,a.e)();return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-white",children:"Reportes"}),(0,o.jsx)("p",{className:"text-gray-300",children:"Genera reportes detallados del estado de tu negocio."})]}),(0,o.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,o.jsxs)(i.Zb,{className:"border-gray-700 bg-gray-800/50 hover:bg-gray-800/70 transition-colors",children:[(0,o.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,o.jsx)(i.ll,{className:"text-lg font-medium text-white",children:"Flota de Veh\xedculos"}),(0,o.jsx)(r.Z,{className:"h-5 w-5 text-blue-400"})]}),(0,o.jsxs)(i.aY,{children:[(0,o.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Listado completo de veh\xedculos, estado actual, precios y caracter\xedsticas."}),(0,o.jsxs)(s.z,{onClick:()=>{let e='\n            <div class="section-title">Resumen de Flota</div>\n            <div style="display: flex; gap: 20px; margin-bottom: 20px;">\n                <div style="flex: 1; background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">\n                    <div style="font-size: 24px; font-weight: bold; color: #2563eb;">'.concat(t.length,'</div>\n                    <div style="font-size: 12px; color: #6b7280; text-transform: uppercase;">Total Veh\xedculos</div>\n                </div>\n                <div style="flex: 1; background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">\n                    <div style="font-size: 24px; font-weight: bold; color: #059669;">').concat(t.filter(t=>"Disponible"===t.status).length,'</div>\n                    <div style="font-size: 12px; color: #6b7280; text-transform: uppercase;">Disponibles</div>\n                </div>\n                <div style="flex: 1; background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">\n                    <div style="font-size: 24px; font-weight: bold; color: #d97706;">').concat(t.filter(t=>"Rentado"===t.status).length,'</div>\n                    <div style="font-size: 12px; color: #6b7280; text-transform: uppercase;">Rentados</div>\n                </div>\n                <div style="flex: 1; background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">\n                    <div style="font-size: 24px; font-weight: bold; color: #dc2626;">').concat(t.filter(t=>"Mantenimiento"===t.status).length,'</div>\n                    <div style="font-size: 12px; color: #6b7280; text-transform: uppercase;">En Mantenimiento</div>\n                </div>\n            </div>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Veh\xedculo</th>\n                        <th>Placa</th>\n                        <th>A\xf1o</th>\n                        <th>Tipo</th>\n                        <th>Rango</th>\n                        <th>Estado</th>\n                        <th class="text-right">Precio Diario</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    ').concat(t.map(t=>"\n                        <tr>\n                            <td><strong>".concat(t.name,"</strong></td>\n                            <td>").concat(t.plate,"</td>\n                            <td>").concat(t.year,"</td>\n                            <td>").concat(t.type,"</td>\n                            <td>").concat(t.range,'</td>\n                            <td><span style="padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: bold; text-transform: uppercase; background: ').concat("Disponible"===t.status?"#d1fae5; color: #059669;":"Rentado"===t.status?"#dbeafe; color: #2563eb;":"#fee2e2; color: #dc2626;",'">').concat(t.status,'</span></td>\n                            <td class="text-right">').concat((0,f.x)(t.price),"</td>\n                        </tr>\n                    ")).join(""),"\n                </tbody>\n            </table>\n        "),n=(0,h.k)("Reporte de Flota",b,e),o=window.open("","_blank");o&&(o.document.write(n),o.document.close())},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[(0,o.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," Generar PDF"]})]})]}),(0,o.jsxs)(i.Zb,{className:"border-gray-700 bg-gray-800/50 hover:bg-gray-800/70 transition-colors",children:[(0,o.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,o.jsx)(i.ll,{className:"text-lg font-medium text-white",children:"Rentas y Actividad"}),(0,o.jsx)(d.Z,{className:"h-5 w-5 text-green-400"})]}),(0,o.jsxs)(i.aY,{children:[(0,o.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Historial de rentas, veh\xedculos actualmente rentados y actividad reciente."}),(0,o.jsxs)(s.z,{onClick:()=>{let o=n.filter(t=>"Activo"===t.status),a=n.filter(t=>"Finalizado"===t.status),i='\n            <div class="section-title">Resumen de Rentas</div>\n            <div style="display: flex; gap: 20px; margin-bottom: 20px;">\n                <div style="flex: 1; background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">\n                    <div style="font-size: 24px; font-weight: bold; color: #2563eb;">'.concat(n.length,'</div>\n                    <div style="font-size: 12px; color: #6b7280; text-transform: uppercase;">Total Hist\xf3rico</div>\n                </div>\n                <div style="flex: 1; background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">\n                    <div style="font-size: 24px; font-weight: bold; color: #059669;">').concat(o.length,'</div>\n                    <div style="font-size: 12px; color: #6b7280; text-transform: uppercase;">Activas Ahora</div>\n                </div>\n            </div>\n\n            <div class="section-title">Rentas Activas</div>\n            ').concat(o.length>0?'\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Cliente</th>\n                            <th>Veh\xedculo</th>\n                            <th>Fecha Inicio</th>\n                            <th>D\xedas Transcurridos</th>\n                            <th class="text-right">Tarifa Diaria</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        '.concat(o.map(n=>{let o=e.find(t=>t.id===n.clientId),a=t.find(t=>t.id===n.vehicleId),i=Math.ceil((new Date().getTime()-new Date(n.startDate).getTime())/864e5);return"\n                                <tr>\n                                    <td>".concat((null==o?void 0:o.name)||"N/A","</td>\n                                    <td>").concat((null==a?void 0:a.name)||"N/A","</td>\n                                    <td>").concat(new Date(n.startDate).toLocaleDateString(),"</td>\n                                    <td>").concat(i,' d\xedas</td>\n                                    <td class="text-right">').concat((0,f.x)(n.dailyRate),"</td>\n                                </tr>\n                            ")}).join(""),"\n                    </tbody>\n                </table>\n            "):'<p style="font-size: 12px; color: #6b7280; font-style: italic;">No hay rentas activas.</p>','\n\n            <div class="section-title">\xdaltimas Rentas Finalizadas</div>\n            ').concat(a.length>0?'\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Cliente</th>\n                            <th>Veh\xedculo</th>\n                            <th>Periodo</th>\n                            <th class="text-right">Total Facturado</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        '.concat(a.slice(0,10).map(n=>{let o=e.find(t=>t.id===n.clientId),a=t.find(t=>t.id===n.vehicleId);return"\n                                <tr>\n                                    <td>".concat((null==o?void 0:o.name)||"N/A","</td>\n                                    <td>").concat((null==a?void 0:a.name)||"N/A","</td>\n                                    <td>").concat(new Date(n.startDate).toLocaleDateString()," - ").concat(n.endDate?new Date(n.endDate).toLocaleDateString():"N/A",'</td>\n                                    <td class="text-right">').concat(n.totalAmount?(0,f.x)(n.totalAmount):"-","</td>\n                                </tr>\n                            ")}).join(""),"\n                    </tbody>\n                </table>\n            "):'<p style="font-size: 12px; color: #6b7280; font-style: italic;">No hay rentas finalizadas.</p>',"\n        "),s=(0,h.k)("Reporte de Rentas",b,i),r=window.open("","_blank");r&&(r.document.write(s),r.document.close())},className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[(0,o.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," Generar PDF"]})]})]}),(0,o.jsxs)(i.Zb,{className:"border-gray-700 bg-gray-800/50 hover:bg-gray-800/70 transition-colors",children:[(0,o.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,o.jsx)(i.ll,{className:"text-lg font-medium text-white",children:"Mantenimientos"}),(0,o.jsx)(c.Z,{className:"h-5 w-5 text-red-400"})]}),(0,o.jsxs)(i.aY,{children:[(0,o.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Registro de mantenimientos, costos asociados y estado de reparaciones."}),(0,o.jsxs)(s.z,{onClick:()=>{let e=u.reduce((t,e)=>t+e.cost,0),n='\n            <div class="section-title">Resumen de Mantenimientos</div>\n            <div style="display: flex; gap: 20px; margin-bottom: 20px;">\n                <div style="flex: 1; background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">\n                    <div style="font-size: 24px; font-weight: bold; color: #dc2626;">'.concat((0,f.x)(e),'</div>\n                    <div style="font-size: 12px; color: #6b7280; text-transform: uppercase;">Costo Total Hist\xf3rico</div>\n                </div>\n                <div style="flex: 1; background: #f9fafb; padding: 15px; border-radius: 8px; text-align: center;">\n                    <div style="font-size: 24px; font-weight: bold; color: #2563eb;">').concat(u.length,'</div>\n                    <div style="font-size: 12px; color: #6b7280; text-transform: uppercase;">Total Servicios</div>\n                </div>\n            </div>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Veh\xedculo</th>\n                        <th>Descripci\xf3n</th>\n                        <th>Fecha</th>\n                        <th>Estado</th>\n                        <th class="text-right">Costo</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    ').concat(u.map(e=>{let n=t.find(t=>t.id===e.vehicleId);return"\n                            <tr>\n                                <td><strong>".concat((null==n?void 0:n.name)||"N/A",'</strong><br><span style="font-size: 10px; color: #6b7280;">').concat((null==n?void 0:n.plate)||"","</span></td>\n                                <td>").concat(e.description,"</td>\n                                <td>").concat(new Date(e.date).toLocaleDateString(),'</td>\n                                <td><span style="padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: bold; text-transform: uppercase; background: ').concat("Completado"===e.status?"#d1fae5; color: #059669;":"En Proceso"===e.status?"#dbeafe; color: #2563eb;":"#fef3c7; color: #d97706;",'">').concat(e.status,'</span></td>\n                                <td class="text-right">').concat((0,f.x)(e.cost),"</td>\n                            </tr>\n                        ")}).join(""),"\n                </tbody>\n            </table>\n        "),o=(0,h.k)("Reporte de Mantenimiento",b,n),a=window.open("","_blank");a&&(a.document.write(o),a.document.close())},className:"w-full bg-red-600 hover:bg-red-700 text-white",children:[(0,o.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," Generar PDF"]})]})]}),(0,o.jsxs)(i.Zb,{className:"border-gray-700 bg-gray-800/50 hover:bg-gray-800/70 transition-colors",children:[(0,o.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,o.jsx)(i.ll,{className:"text-lg font-medium text-white",children:"Base de Clientes"}),(0,o.jsx)(p.Z,{className:"h-5 w-5 text-purple-400"})]}),(0,o.jsxs)(i.aY,{children:[(0,o.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Directorio de clientes registrados con su informaci\xf3n de contacto."}),(0,o.jsxs)(s.z,{onClick:()=>{let t='\n            <div class="section-title">Listado de Clientes</div>\n            <div style="margin-bottom: 20px; font-size: 14px; color: #6b7280;">\n                Total de clientes registrados: <strong>'.concat(e.length,"</strong>\n            </div>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Nombre</th>\n                        <th>DNI/NIF</th>\n                        <th>Contacto</th>\n                        <th>Direcci\xf3n</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    ").concat(e.map(t=>"\n                        <tr>\n                            <td><strong>".concat(t.name,"</strong></td>\n                            <td>").concat(t.dni,"</td>\n                            <td>").concat(t.email,"<br>").concat(t.phone,"</td>\n                            <td>").concat(t.address,"</td>\n                        </tr>\n                    ")).join(""),"\n                </tbody>\n            </table>\n        "),n=(0,h.k)("Reporte de Clientes",b,t),o=window.open("","_blank");o&&(o.document.write(n),o.document.close())},className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[(0,o.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," Generar PDF"]})]})]}),(0,o.jsxs)(i.Zb,{className:"border-gray-700 bg-gray-800/50 hover:bg-gray-800/70 transition-colors md:col-span-2 lg:col-span-1",children:[(0,o.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,o.jsx)(i.ll,{className:"text-lg font-medium text-white",children:"Reporte Financiero"}),(0,o.jsx)(x.Z,{className:"h-5 w-5 text-yellow-400"})]}),(0,o.jsxs)(i.aY,{children:[(0,o.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Resumen de ingresos, gastos y balance general del negocio."}),(0,o.jsxs)(s.z,{onClick:()=>{let t=g.reduce((t,e)=>t+e.amount,0),e=g.reduce((t,e)=>t+e.paidAmount,0),n=u.reduce((t,e)=>t+e.cost,0),o='\n            <div class="section-title">Resumen Financiero</div>\n            \n            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">\n                <div style="background: #f0fdf4; padding: 20px; border-radius: 8px; border: 1px solid #bbf7d0;">\n                    <div style="font-size: 12px; color: #166534; text-transform: uppercase; font-weight: bold; margin-bottom: 5px;">Ingresos Totales (Facturado)</div>\n                    <div style="font-size: 32px; font-weight: 800; color: #15803d;">'.concat((0,f.x)(t),'</div>\n                    <div style="font-size: 12px; color: #166534; margin-top: 5px;">Cobrado: ').concat((0,f.x)(e),'</div>\n                </div>\n                <div style="background: #fef2f2; padding: 20px; border-radius: 8px; border: 1px solid #fecaca;">\n                    <div style="font-size: 12px; color: #991b1b; text-transform: uppercase; font-weight: bold; margin-bottom: 5px;">Gastos (Mantenimiento)</div>\n                    <div style="font-size: 32px; font-weight: 800; color: #b91c1c;">').concat((0,f.x)(n),'</div>\n                </div>\n            </div>\n\n            <div style="background: #eff6ff; padding: 20px; border-radius: 8px; border: 1px solid #bfdbfe; margin-bottom: 30px; text-align: center;">\n                <div style="font-size: 12px; color: #1e40af; text-transform: uppercase; font-weight: bold; margin-bottom: 5px;">Balance Neto Estimado</div>\n                <div style="font-size: 42px; font-weight: 800; color: #1d4ed8;">').concat((0,f.x)(t-n),'</div>\n                <div style="font-size: 12px; color: #1e40af;">Ingresos - Gastos de Mantenimiento</div>\n            </div>\n\n            <div class="section-title">\xdaltimas Facturas Emitidas</div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Factura #</th>\n                        <th>Fecha</th>\n                        <th>Estado</th>\n                        <th class="text-right">Monto</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    ').concat(g.slice(0,10).map(t=>"\n                        <tr>\n                            <td>".concat(t.id.slice(0,8),"</td>\n                            <td>").concat(new Date(t.date).toLocaleDateString(),"</td>\n                            <td>").concat(t.status,'</td>\n                            <td class="text-right">').concat((0,f.x)(t.amount),"</td>\n                        </tr>\n                    ")).join(""),"\n                </tbody>\n            </table>\n        "),a=(0,h.k)("Reporte Financiero",b,o),i=window.open("","_blank");i&&(i.document.write(a),i.document.close())},className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white",children:[(0,o.jsx)(l.Z,{className:"mr-2 h-4 w-4"})," Generar PDF"]})]})]})]})]})}},7662:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});let o=(0,n(9205).Z)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},5805:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});let o=(0,n(9205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},9525:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});let o=(0,n(9205).Z)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]])},5293:function(t,e,n){"use strict";n.d(e,{g7:function(){return c}});var o=n(2265),a=n.t(o,2);function i(t,e){if("function"==typeof t)return t(e);null!=t&&(t.current=e)}var s=n(7437),r=Symbol.for("react.lazy"),l=a[" use ".trim().toString()];function d(t){var e;return null!=t&&"object"==typeof t&&"$$typeof"in t&&t.$$typeof===r&&"_payload"in t&&"object"==typeof(e=t._payload)&&null!==e&&"then"in e}var c=function(t){let e=function(t){let e=o.forwardRef((t,e)=>{let{children:n,...a}=t;if(d(n)&&"function"==typeof l&&(n=l(n._payload)),o.isValidElement(n)){var s;let t,r;let l=(s=n,(t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?s.props.ref:s.props.ref||s.ref),d=function(t,e){let n={...e};for(let o in e){let a=t[o],i=e[o];/^on[A-Z]/.test(o)?a&&i?n[o]=(...t)=>{let e=i(...t);return a(...t),e}:a&&(n[o]=a):"style"===o?n[o]={...a,...i}:"className"===o&&(n[o]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}(a,n.props);return n.type!==o.Fragment&&(d.ref=e?function(...t){return e=>{let n=!1,o=t.map(t=>{let o=i(t,e);return n||"function"!=typeof o||(n=!0),o});if(n)return()=>{for(let e=0;e<o.length;e++){let n=o[e];"function"==typeof n?n():i(t[e],null)}}}}(e,l):l),o.cloneElement(n,d)}return o.Children.count(n)>1?o.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}(t),n=o.forwardRef((t,n)=>{let{children:a,...i}=t;d(a)&&"function"==typeof l&&(a=l(a._payload));let r=o.Children.toArray(a),c=r.find(x);if(c){let t=c.props.children,a=r.map(e=>e!==c?e:o.Children.count(t)>1?o.Children.only(null):o.isValidElement(t)?t.props.children:null);return(0,s.jsx)(e,{...i,ref:n,children:o.isValidElement(t)?o.cloneElement(t,void 0,a):null})}return(0,s.jsx)(e,{...i,ref:n,children:a})});return n.displayName=`${t}.Slot`,n}("Slot"),p=Symbol("radix.slottable");function x(t){return o.isValidElement(t)&&"function"==typeof t.type&&"__radixId"in t.type&&t.type.__radixId===p}}},function(t){t.O(0,[590,217,971,117,744],function(){return t(t.s=8774)}),_N_E=t.O()}]);