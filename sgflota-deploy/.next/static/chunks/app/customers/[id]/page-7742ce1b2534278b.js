(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[238],{7641:function(e,t,s){Promise.resolve().then(s.bind(s,8434))},8434:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(7437),r=s(2376),l=s(9178),n=s(4226),c=s(2660),i=s(8736),d=s(9345),x=s(3041),h=s(3774),o=s(7662),m=s(5252),u=s(1047),g=s(7648),j=s(9376),f=s(4508);function y(){let e=(0,j.useParams)(),{clients:t,rentals:s,invoices:y,vehicles:b}=(0,r.e)(),p="string"==typeof e.id?e.id:Array.isArray(e.id)?e.id[0]:"",N=t.find(e=>e.id===p),v=s.filter(e=>e.clientId===p),w=y.filter(e=>e.clientId===p);if(!N)return(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Cliente no encontrado"}),(0,a.jsx)(g.default,{href:"/customers",children:(0,a.jsxs)(n.z,{variant:"outline",className:"text-white border-gray-600",children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Volver a Clientes"]})})]});let Z=w.reduce((e,t)=>e+t.amount,0),k=v.filter(e=>"Activo"===e.status).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(g.default,{href:"/customers",children:(0,a.jsx)(n.z,{variant:"ghost",className:"text-gray-400 hover:text-white",children:(0,a.jsx)(c.Z,{className:"h-6 w-6"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-white",children:N.name}),(0,a.jsx)("p",{className:"text-gray-300",children:"Historial y detalles del cliente"})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,a.jsxs)(l.Zb,{className:"border-gray-700 bg-gray-800/50 backdrop-blur md:col-span-1",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"text-xl text-white flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 text-blue-400"}),"Informaci\xf3n Personal"]})}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-gray-300",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-bold text-white text-xs",children:"DNI"})}),(0,a.jsx)("span",{children:N.dni})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-gray-300",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"h-4 w-4 text-blue-400"})}),(0,a.jsx)("span",{children:N.email})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-gray-300",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"h-4 w-4 text-green-400"})}),(0,a.jsx)("span",{children:N.phone})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-gray-300",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"h-4 w-4 text-red-400"})}),(0,a.jsx)("span",{children:N.address})]})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 grid gap-6 md:grid-cols-2",children:[(0,a.jsx)(l.Zb,{className:"border-gray-700 bg-gradient-to-br from-blue-900/20 to-gray-900",children:(0,a.jsxs)(l.aY,{className:"p-6 flex flex-col items-center justify-center text-center h-full",children:[(0,a.jsx)(o.Z,{className:"h-10 w-10 text-blue-400 mb-2"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-white",children:v.length}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Rentas Totales"}),k>0&&(0,a.jsxs)("span",{className:"mt-2 px-2 py-1 bg-green-900/50 text-green-400 text-xs rounded-full border border-green-800",children:[k," Activas"]})]})}),(0,a.jsx)(l.Zb,{className:"border-gray-700 bg-gradient-to-br from-green-900/20 to-gray-900",children:(0,a.jsxs)(l.aY,{className:"p-6 flex flex-col items-center justify-center text-center h-full",children:[(0,a.jsx)(m.Z,{className:"h-10 w-10 text-green-400 mb-2"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-white",children:(0,f.x)(Z)}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Total Facturado"})]})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-blue-400"}),"Historial de Rentas"]}),(0,a.jsx)("div",{className:"space-y-3",children:v.length>0?v.map(e=>{let t=b.find(t=>t.id===e.vehicleId);return(0,a.jsx)(l.Zb,{className:"border-gray-700 bg-gray-800/30 hover:bg-gray-800/50 transition-colors",children:(0,a.jsx)(l.aY,{className:"p-4",children:(0,a.jsx)("div",{className:"flex items-center justify-between gap-4",children:(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-white",children:(null==t?void 0:t.name)||"Veh\xedculo desconocido"}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["#",e.id.slice(0,8)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-blue-400"}),new Date(e.startDate).toLocaleDateString()," - ",e.endDate?new Date(e.endDate).toLocaleDateString():"En curso"]}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs border ".concat("Activo"===e.status?"bg-green-900/30 text-green-400 border-green-800":"bg-gray-700 text-gray-300 border-gray-600"),children:e.status})}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("p",{className:"text-sm font-bold text-white",children:(0,f.x)(e.totalAmount||0)})})]})})})},e.id)}):(0,a.jsx)("p",{className:"text-gray-500 text-center py-4 bg-gray-800/20 rounded-lg border border-gray-800",children:"No hay rentas registradas"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 text-green-400"}),"Historial de Facturas"]}),(0,a.jsx)("div",{className:"space-y-3",children:w.length>0?w.map(e=>(0,a.jsx)(l.Zb,{className:"border-gray-700 bg-gray-800/30 hover:bg-gray-800/50 transition-colors",children:(0,a.jsx)(l.aY,{className:"p-4",children:(0,a.jsx)("div",{className:"flex items-center justify-between gap-4",children:(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-bold text-white",children:["Factura #",e.id.slice(0,8)]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.date).toLocaleDateString()})]}),(0,a.jsx)("div",{className:"text-sm text-gray-300",children:e.rentalId?"Renta de Veh\xedculo":"Servicio Manual"}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs border ".concat("Pagado"===e.status?"bg-green-900/30 text-green-400 border-green-800":"Parcial"===e.status?"bg-blue-900/30 text-blue-400 border-blue-800":"bg-yellow-900/30 text-yellow-400 border-yellow-800"),children:e.status})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-white",children:(0,f.x)(e.amount)}),e.paidAmount<e.amount&&(0,a.jsxs)("p",{className:"text-xs text-yellow-500",children:["Pendiente: ",(0,f.x)(e.amount-e.paidAmount)]})]})]})})})},e.id)):(0,a.jsx)("p",{className:"text-gray-500 text-center py-4 bg-gray-800/20 rounded-lg border border-gray-800",children:"No hay facturas registradas"})})]})]})}},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7662:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},5252:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8736:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[590,648,979,971,117,744],function(){return e(e.s=7641)}),_N_E=e.O()}]);